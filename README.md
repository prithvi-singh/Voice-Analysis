# MindMap â€“ Voice Analysis

<div align="center">

![MindMap Logo](https://via.placeholder.com/120x120/0f172a/34d399?text=ğŸ§ )

**AI-powered voice emotion and mental health analysis**

[![React](https://img.shields.io/badge/React-19-61DAFB?logo=react)](https://react.dev)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-3178C6?logo=typescript)](https://typescriptlang.org)
[![Tailwind](https://img.shields.io/badge/Tailwind-4-38B2AC?logo=tailwindcss)](https://tailwindcss.com)
[![Hume AI](https://img.shields.io/badge/Hume_AI-Powered-10B981)](https://hume.ai)

</div>

---

MindMap is a voice analysis dashboard that combines **local acoustic features** with **Hume AI Expression Measurement** to surface emotion and mental-healthâ€“relevant biomarkers from recorded speech.

## âœ¨ Features

### Core Analysis
- ğŸ¤ **Voice Upload & Analysis** â€“ Drag-and-drop audio files (MP3, WAV, M4A)
- ğŸ§  **AI Emotion Detection** â€“ 48+ emotions via Hume AI with normalized percentages
- ğŸ“Š **Clinical Proxy Metrics** â€“ Depression, anxiety, mania, energy indicators
- ğŸµ **Voice Quality Metrics** â€“ Pitch, volume, jitter, stability analysis

### Intuitive Visualizations
- ğŸŒŠ **Real-time Audio Visualizer** â€“ Animated frequency bars synced to playback
- ğŸ¯ **Mood Meter** â€“ Overall sentiment from negative to positive
- ğŸ¥§ **Emotion Pie Chart** â€“ Normalized distribution (adds up to 100%)
- ğŸ“Š **Emotion Bars** â€“ Top emotions with intensity labels (Strong/Moderate/Mild)
- ğŸ”Š **Voice Feed** â€“ Waveform display with real-time voice metrics

### Modern Design
- ğŸŒ™ Dark glassmorphism UI with gradient accents
- âœ¨ Smooth animations and micro-interactions
- ğŸ“± Fully responsive layout
- ğŸ¨ Color-coded emotions for quick interpretation

> âš ï¸ **Disclaimer**: This is a technical prototype, **not** a medical device. The clinical proxies are experimental and should **not** be used for diagnosis or clinical decision-making.

---

## ğŸ–¼ï¸ Preview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§  MindMap Voice Analysis                    [Powered by Hume] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–‘â–‘â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–‘â–‘  (Audio Visualizer)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Control     â”‚  â”‚ Emotional Analysis                      â”‚  â”‚
â”‚  â”‚ Panel       â”‚  â”‚                                         â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Overall Mood: [â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€] Positive   â”‚  â”‚
â”‚  â”‚ ğŸµ audio.mp3â”‚  â”‚                                         â”‚  â”‚
â”‚  â”‚ â–· Analyze   â”‚  â”‚ ğŸ¥§ Pie Chart    Joy â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 28%       â”‚  â”‚
â”‚  â”‚             â”‚  â”‚    [  28%  ]    Surprise â–ˆâ–ˆâ–ˆâ–ˆ 18%       â”‚  â”‚
â”‚  â”‚ âœ“ Complete  â”‚  â”‚    [ Joy  ]    Interest â–ˆâ–ˆâ–ˆ 15%        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 ...more                 â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚ Clinical    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Proxies     â”‚  â”‚ Voice Feed                              â”‚  â”‚
â”‚  â”‚             â”‚  â”‚                                         â”‚  â”‚
â”‚  â”‚ Energy  45% â”‚  â”‚  âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿               â”‚  â”‚
â”‚  â”‚ Anxiety 22% â”‚  â”‚  Pitch: 180Hz â”‚ Stability: 94%         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    React + Vite                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Audio     â”‚ â”‚ Hume      â”‚ â”‚ Metrics               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Context   â”‚ â”‚ Context   â”‚ â”‚ Context               â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚        â”‚             â”‚                   â”‚               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚              UI Components                         â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  AudioVisualizer â”‚ ControlPanel â”‚ LiveMetrics     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  EmotionalAnalysis â”‚ VoiceFeed                    â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ POST /analyze
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BACKEND                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                 Express Server                           â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  /health  - Server status                               â”‚   â”‚
â”‚  â”‚  /analyze - Audio â†’ Hume AI â†’ Emotion scores            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HUME AI                                  â”‚
â”‚  Expression Measurement API (Prosody Model)                     â”‚
â”‚  Returns: 48+ emotion scores per audio segment                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Quick Start

### Prerequisites
- Node.js 18+
- Hume AI API key ([Get one free](https://hume.ai))

### 1. Clone & Install

```bash
git clone https://github.com/prithvi-singh/Voice-Analysis.git
cd Voice-Analysis

# Install frontend
cd mindmap
npm install

# Install backend
cd ../server
npm install
```

### 2. Configure

Create `server/.env`:
```env
HUME_API_KEY=your_hume_api_key_here
PORT=4003
```

### 3. Run

```bash
# Terminal 1 - Backend
cd server
npm run dev

# Terminal 2 - Frontend
cd mindmap
npm run dev
```

### 4. Open

Visit `http://localhost:5173` and upload an audio file with clear speech!

---

## ğŸ“ Project Structure

```
.
â”œâ”€â”€ mindmap/                    # React frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ AudioVisualizer.tsx    # Animated frequency bars
â”‚   â”‚   â”‚   â”œâ”€â”€ ControlPanel.tsx       # Upload & playback controls
â”‚   â”‚   â”‚   â”œâ”€â”€ EmotionalAnalysis.tsx  # Unified emotion display
â”‚   â”‚   â”‚   â”œâ”€â”€ LiveMetrics.tsx        # Clinical proxy gauges
â”‚   â”‚   â”‚   â””â”€â”€ VoiceFeed.tsx          # Waveform & voice stats
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â”œâ”€â”€ AudioContext.tsx       # Web Audio processing
â”‚   â”‚   â”‚   â”œâ”€â”€ HumeContext.tsx        # Hume API state
â”‚   â”‚   â”‚   â””â”€â”€ MetricsContext.tsx     # Aggregated metrics
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ clinicalMapping.ts     # Clinical proxy calculations
â”‚   â”‚   â”‚   â””â”€â”€ humeParsing.ts         # Hume response parsing
â”‚   â”‚   â””â”€â”€ types/                     # TypeScript definitions
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ server/                     # Express backend
    â””â”€â”€ src/
        â””â”€â”€ server.ts           # API with Hume integration
```

---

## ğŸ“Š How Emotion Percentages Work

All emotion scores are **normalized to add up to 100%**, making them easy to interpret:

| Raw Hume Scores | â†’ | Normalized Display |
|-----------------|---|-------------------|
| Joy: 0.56       |   | Joy: 28%          |
| Surprise: 0.36  |   | Surprise: 18%     |
| Interest: 0.30  |   | Interest: 15%     |
| ...             |   | ...               |
| **Total: 2.0+** |   | **Total: 100%**   |

Each percentage represents that emotion's **share of the total emotional expression** detected in the voice.

---

## ğŸ“Š Clinical Proxy Definitions

| Metric | Source Emotions | Description |
|--------|-----------------|-------------|
| **Energy** | Arousal, Excitement, Determination | Vocal energy level (0-100%) |
| **Depression Risk** | Sadness, Tiredness, Boredom, Disappointment | Low mood indicators |
| **Anxiety Score** | Anxiety, Fear, Distress, Confusion | Stress signals |
| **Mania Indicator** | Excitement, Anger, Amusement, Triumph | Elevated mood |

---

## ğŸ› ï¸ Tech Stack

**Frontend**
- React 19 + TypeScript + Vite
- Tailwind CSS 4 (glassmorphism design)
- Recharts (charts)
- WaveSurfer.js (waveforms)
- Pitchfinder (YIN pitch detection)
- Lucide React (icons)

**Backend**
- Node.js + Express + TypeScript
- Multer (file uploads)
- Hume AI Expression Measurement API

---

## ğŸ”— API Reference

### `GET /health`

Health check endpoint.

```json
{
  "status": "ok",
  "humeConfigured": true,
  "version": "1.0.0"
}
```

### `POST /analyze`

Analyze audio file for emotions.

**Request:** `multipart/form-data` with `audio` field

**Success Response:**
```json
{
  "rawScores": {
    "Joy": 0.72,
    "Sadness": 0.12,
    "Anxiety": 0.34
  },
  "clinical": {
    "depressionRisk": 15,
    "anxietyScore": 22,
    "maniaScore": 31,
    "energyLevel": 48
  },
  "processingTimeMs": 2340
}
```

**Error Response (no speech detected):**
```json
{
  "error": "No speech detected",
  "details": "Could not detect clear speech in this audio. Try a recording with clearer voice."
}
```

---

## ğŸ—ºï¸ Roadmap

- [ ] Real-time streaming via WebSocket
- [ ] Session history & comparisons
- [ ] Export analysis reports (PDF/JSON)
- [ ] Multi-file batch analysis
- [ ] Transcript integration
- [ ] Mobile app version

---

## âš ï¸ Important Disclaimer

This is an **experimental prototype** for exploration purposes only.

- **NOT** a medical device
- **NOT** for clinical diagnosis
- **NOT** for treatment decisions

The clinical proxies are heuristic calculations based on emotional expression scores and have **not** been validated against clinical instruments.

---

## ğŸ“„ License

MIT

---

<div align="center">

Built with â¤ï¸ using [Hume AI](https://hume.ai) â€¢ [React](https://react.dev) â€¢ [Tailwind CSS](https://tailwindcss.com)

</div>
